<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ProductController extends Controller
{
    // Страница отдельного товара
    public function show($id)
    {
        // Данные товаров
        $products = [
            1 => [
                'id' => 1,
                'title' => '25 плечевидных роз',
                'price' => 7777,
                'category' => 'gifts',
                'description' => 'Роскошный букет из 25 свежих плечевидных роз. Идеальный подарок для особых случаев.',
                'full_description' => 'Этот прекрасный букет состоит из 25 отборных плечевидных роз, которые будут радовать своей красотой долгое время. Каждый цветок carefully отобран нашими флористами. Идеально подходит для романтических свиданий, юбилеев и других особых мероприятий.',
                'image' => 'gift1.jpg',
                'features' => ['Свежие цветы', 'Долгое сохранение', 'Бесплатная упаковка', 'Доставка в течение 2 часов']
            ],
            2 => [
                'id' => 2,
                'title' => '26 плечевидных роз',
                'price' => 7777,
                'category' => 'gifts',
                'description' => 'Эксклюзивный букет из 26 плечевидных роз для самых важных моментов.',
                'full_description' => 'Уникальный букет из 26 плечевидных роз создан для тех, кто ценит совершенство. Особый способ упаковки сохраняет свежесть цветов на протяжении длительного времени.',
                'image' => 'gift2.jpg',
                'features' => ['Эксклюзивный дизайн', 'Специальная упаковка', 'Подарочная карта', 'Консультация флориста']
            ],
            3 => [
                'id' => 3,
                'title' => 'Люкс букет роз',
                'price' => 9999,
                'category' => 'gifts',
                'description' => 'Премиальный букет из отборных роз высшего качества.',
                'full_description' => 'Премиальный букет создан из самых свежих и красивых роз. Идеальный выбор для особых случаев и важных мероприятий.',
                'image' => 'gift3.jpg',
                'features' => ['Премиум качество', 'Эксклюзивная упаковка', 'Быстрая доставка']
            ],
            4 => [
                'id' => 4,
                'title' => 'Романтичная композиция',
                'price' => 8550,
                'category' => 'gifts',
                'description' => 'Нежная композиция для романтических моментов.',
                'full_description' => 'Нежная и элегантная композиция, создающая атмосферу романтики и уюта.',
                'image' => 'gift4.jpg',
                'features' => ['Романтичный дизайн', 'Свежие цветы', 'Ароматная композиция']
            ]
            
        ];

        // Проверяем существование товара
        if (!isset($products[$id])) {
            abort(404);
        }

        $product = $products[$id];
        
        return view('products.show', compact('product'));
    }

    // Страница категории товаров
    public function category($category)
    {
        $categories = [
            'gifts' => 'Подарки',
            'bouquets' => 'Букеты',
            'box-flowers' => 'Цветы в коробках',
            'promotions' => 'Акции',
            'certificates' => 'Сертификаты'
        ];

        // Проверяем существование категории
        if (!isset($categories[$category])) {
            abort(404);
        }

        $title = $categories[$category];
        
        return view('products.category', compact('category', 'title'));
    }
}